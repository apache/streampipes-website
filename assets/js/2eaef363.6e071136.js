"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[72762],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>h});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=s(a),c=i,h=u["".concat(p,".").concat(c)]||u[c]||d[c]||r;return a?n.createElement(h,o(o({ref:t},m),{},{components:a})):n.createElement(h,o({ref:t},m))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},8054:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var n=a(87462),i=a(63366),r=(a(67294),a(3905)),o=["components"],l={title:"Explore StreamPipes with Data Simulators!",author:"Philipp Zehnder",authorURL:"https://github.com/tenthe",authorImageURL:"/img/zehnder.png"},p=void 0,s={permalink:"/blog/2025/03/25/file-stream-adapter",source:"@site/blog/2025-03-25-file-stream-adapter.md",title:"Explore StreamPipes with Data Simulators!",description:"Introduction",date:"2025-03-25T00:00:00.000Z",formattedDate:"March 25, 2025",tags:[],readingTime:3.24,hasTruncateMarker:!1,authors:[{name:"Philipp Zehnder",url:"https://github.com/tenthe",imageURL:"/img/zehnder.png"}],frontMatter:{title:"Explore StreamPipes with Data Simulators!",author:"Philipp Zehnder",authorURL:"https://github.com/tenthe",authorImageURL:"/img/zehnder.png"},prevItem:{title:"How to Use the JavaScript Evaluator Processor",permalink:"/blog/2025/04/09/javascript-processor"},nextItem:{title:"Apache StreamPipes release 0.97.0",permalink:"/blog/2025/02/15/release-097"}},m={authorsImageUrls:[void 0]},u=[{value:"Introduction",id:"introduction",level:3},{value:"Adapter Configuration",id:"adapter-configuration",level:3},{value:"Configuration Options Explained",id:"configuration-options-explained",level:4},{value:"Use Case: Create a Sensor Simulator",id:"use-case-create-a-sensor-simulator",level:3},{value:"Use Case: Persist CSV File to Data Lake",id:"use-case-persist-csv-file-to-data-lake",level:3},{value:"Conclusion",id:"conclusion",level:3}],d={toc:u},c="wrapper";function h(e){var t=e.components,a=(0,i.Z)(e,o);return(0,r.kt)(c,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"Are you excited to explore Apache StreamPipes but find yourself without any sensors to play with?\nOr maybe you're looking to validate StreamPipes for your use case and kick off a Proof of Concept (PoC) but the hardware is not yet available?\nNo worries\u2014the ",(0,r.kt)("strong",{parentName:"p"},"File Stream Adapter")," is here to save the day!"),(0,r.kt)("p",null,"With the File Stream Adapter, you can upload a file containing sensor data in various formats (JSON, CSV, XML) and replay this data, giving you a hands-on way to dive into StreamPipes.\nIt's not meant for production use, but it's perfect for experimenting with StreamPipes using your own data."),(0,r.kt)("p",null,"This blog post will take you on a exciting journey through configuring the ",(0,r.kt)("strong",{parentName:"p"},"File Stream Adapter")," and using it to simulate sensor data streams."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The adapter supports any type of data as long as it contains a ",(0,r.kt)("strong",{parentName:"p"},"valid timestamp")," in the form of a ",(0,r.kt)("strong",{parentName:"p"},"Unix timestamp in milliseconds"),".")),(0,r.kt)("h3",{id:"adapter-configuration"},"Adapter Configuration"),(0,r.kt)("p",null,"Let's break down the configuration options for the ",(0,r.kt)("strong",{parentName:"p"},"File Stream Adapter:")),(0,r.kt)("img",{src:"/img/blog/2025-03-25/adapter_configuration.png",alt:"Adapter Configuration"}),(0,r.kt)("h4",{id:"configuration-options-explained"},"Configuration Options Explained"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"File:")," Choose an existing file or upload a new one."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Overwrite file time:")," If checked, the current time at which the event is triggered is used for the timestamp of the event, regardless of the timestamp value in the file."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Replay Once:")," Decide if the file should be replayed once or continuously until stopped.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Options: ",(0,r.kt)("inlineCode",{parentName:"li"},"yes")," (file is replayed once), ",(0,r.kt)("inlineCode",{parentName:"li"},"no")," (file is replayed continuously)"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Replay Speed:")," Set the frequency of events.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Options: ",(0,r.kt)("inlineCode",{parentName:"li"},"Keep original time"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Fastest (Ignore original time)"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Speed Up Factor")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Format:")," Choose the format to parse the events.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Options: ",(0,r.kt)("inlineCode",{parentName:"li"},"JSON"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"CSV"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"XML"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Image")," (experimental feature)")))),(0,r.kt)("h3",{id:"use-case-create-a-sensor-simulator"},"Use Case: Create a Sensor Simulator"),(0,r.kt)("p",null,"Let's create a simulation data stream using your own sensor data. First, store the sample CSV data in a local file."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"timestamp,density,mass_flow,sensorId,sensor_fault_flags,temperature,volume_flow\n1719897720887,41.82,6.306,flowrate01,false,41.9,3.365\n1719897721952,45.09,9.659,flowrate01,false,43.2,4.103\n1719897722958,42.84,9.532,flowrate01,true,42.6,3.110\n1719897723964,49.58,1.929,flowrate01,true,40.3,3.4684\n1719897724970,41.83,4.173,flowrate01,false,40.7,0.246\n1719897725975,48.11,10.90,flowrate01,false,46.4,5.275\n")),(0,r.kt)("p",null,"To set up the adapter, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open StreamPipes Connect."),(0,r.kt)("li",{parentName:"ol"},"Click on ",(0,r.kt)("inlineCode",{parentName:"li"},"+ New Adapter"),"."),(0,r.kt)("li",{parentName:"ol"},"Select the ",(0,r.kt)("inlineCode",{parentName:"li"},"File Stream Adapter"),"."),(0,r.kt)("li",{parentName:"ol"},"Enter the following configuration:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"File:")," Upload your sample data file."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Overwrite file time:")," Check this box to use the current timestamp instead of the original time of the event in the file."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Replay Once:")," Choose ",(0,r.kt)("inlineCode",{parentName:"li"},"no")," to create an ongoing data stream."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Replay Speed:")," Select ",(0,r.kt)("inlineCode",{parentName:"li"},"Keep original time")," to maintain the original event frequency."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Format:")," Pick ",(0,r.kt)("inlineCode",{parentName:"li"},"CSV"),", set the delimiter as ",(0,r.kt)("inlineCode",{parentName:"li"},",")," and check the ",(0,r.kt)("inlineCode",{parentName:"li"},"Header")," box."))),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Next")," once you've added the correct configuration."),(0,r.kt)("li",{parentName:"ol"},"Configure the event schema by editing the ",(0,r.kt)("inlineCode",{parentName:"li"},"timestamp")," field and selecting ",(0,r.kt)("inlineCode",{parentName:"li"},"Mark as timestamp"),". Save your changes."),(0,r.kt)("li",{parentName:"ol"},"You can add additional meta information to the event schema, but it's not required for this tutorial. Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Next")," when done."),(0,r.kt)("li",{parentName:"ol"},"Enter an ",(0,r.kt)("inlineCode",{parentName:"li"},"Adapter Name"),"."),(0,r.kt)("li",{parentName:"ol"},"Check the ",(0,r.kt)("inlineCode",{parentName:"li"},"Persist events")," box to store the data in the StreamPipes data store."),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Start Adapter"),".")),(0,r.kt)("p",null,"Once configured, you should see the following preview:"),(0,r.kt)("img",{src:"/img/blog/2025-03-25/adapter_started.png",alt:"Adapter Preview"}),(0,r.kt)("h3",{id:"use-case-persist-csv-file-to-data-lake"},"Use Case: Persist CSV File to Data Lake"),(0,r.kt)("p",null,"Now, let's store the entire content of the file in the data lake. Once stored, you can analyze it with the ",(0,r.kt)("inlineCode",{parentName:"p"},"Data Explorer"),". Here\u2019s how to configure the adapter:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Overwrite file time:")," Leave this unchecked to retain the original timestamps."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Replay Once:")," Choose ",(0,r.kt)("inlineCode",{parentName:"li"},"yes")," to read the file only once."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Replay Speed:")," Select ",(0,r.kt)("inlineCode",{parentName:"li"},"Fastest (Ignore original time)")," to write data as fast as possible.")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Ensure the ",(0,r.kt)("inlineCode",{parentName:"p"},"Persist events")," checkbox is selected to save the data to the data lake during the ",(0,r.kt)("inlineCode",{parentName:"p"},"Start Adapter")," configuration.")),(0,r.kt)("h3",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"In this tutorial, we've explored how to use the File Stream Adapter in Apache StreamPipes to create a simulation data stream and persist CSV data into a data lake.\nThis adapter lets you experiment with StreamPipes' capabilities and explore its functionality using your own data.\nHappy streaming!"))}h.isMDXComponent=!0}}]);